# 变量和this的获取

作用域只是一个“地盘”，一个抽象的概念，其中没有变量。

要通过作用域对应的**执行上下文环境**来获取变量的值。

作用域中变量的值是在执行过程中产生的确定的，而**作用域**却是在函数**创建**时就确定了。

如果要查找一个**作用域**下某个**变量**的值，就需要找到这个作用域对应的**执行上下文环境**，再在其中寻找变量的值。

在A作用域中使用的变量x，却没有在A作用域中声明（即在其他作用域中声明的），对于A作用域来说，x就是一个**自由变量**。

若自身没有变量，则要到创建这个函数的那个作用域中取值——**是**“**创建**”，而**不是**“**调用**” (本质 是JS引用类型 赋值是按引用赋值) :

![](http://images.cnitblog.com/blog/138012/201409/251447377485132.png)

**this**则相反，在函数中this到底取何值，是在函数真正被**直接调用**执行的时候确定的，函数定义的时候确定不了。因为this的取值是执行上下文环境的一部分，每次调用函数，都会产生一个新的执行上下文环境。

![](http://images.cnitblog.com/blog/138012/201409/231455260602664.png)


